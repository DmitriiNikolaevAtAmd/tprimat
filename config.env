# identical_config 01 - shared defaults
DATA_DIR=/data/tprimat
OUTPUT_DIR=./output
HF_HOME=./cache
HF_DATASETS_CACHE=./cache/datasets

# Training defaults
SEED=42
MBS=1
SEQ_LEN=2048
LR=3.0e-4
WEIGHT_DECAY=0.1
BETA1=0.9
BETA2=0.95
PRECISION=bf16
FP8_HYBRID=false
FP8_PARAM=false
WARMUP_STEPS=10
TRAIN_ITERS=50
DATA_SAMPLES=50000
TRAIN_SPLIT=0.8
# Dataset to use for training: bc (BookCorpus) or c4
DATASET=bc

# Parallelism (~70 GB AMD MI300X memory target)
# TP=4 splits model 4-way, DP=2 shards optimizer 2-way → ~32 GB optimizer/GPU
TP=4    # 4-way tensor parallel (model split across 4 GPUs)
PP=1    # No pipeline parallelism
DP=2    # 2-way data parallel (optimizer sharded only 2-way)
GA=32   # Increased to maintain GBS: 1 * 2 * 32 = 64

# Profiling
# Wait 5 iterations → Warmup 1 iteration → Profile iterations 7-8
PROFILING=true
PROFILE_WAIT=5
PROFILE_WARMUP=1
PROFILE_ACTIVE=2
PROFILE_REPEAT=1
